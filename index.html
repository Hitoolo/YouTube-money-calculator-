<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hitoolo | YouTube Money Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb', // Brand Blue
                            700: '#1d4ed8',
                            900: '#1e3a8a',
                        },
                        slate: {
                            850: '#1e293b',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #f8fafc;
            color: #0f172a;
        }

        /* Custom Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            width: 100%; 
            background: transparent; 
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #2563eb;
            cursor: pointer;
            margin-top: -8px;
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3);
            border: 2px solid #ffffff;
            transition: transform 0.1s;
        }

        input[type=range]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 6px;
            cursor: pointer;
            background: #e2e8f0;
            border-radius: 99px;
        }

        /* Number Input cleaner look */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }

        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            border: 1px solid #e2e8f0;
        }

        .gradient-text {
            background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Print Specific Styles */
        @media print {
            body { background: white; }
            nav, button, select, .no-print { display: none !important; }
            main { padding: 0; max-width: 100%; }
            .card-shadow { box-shadow: none; border: 1px solid #ddd; }
            .lg\:col-span-5 { display: none; } /* Hide controls on print */
            .lg\:col-span-7 { width: 100%; display: block; }
            .lg\:h-screen { height: auto; overflow: visible; }
            canvas { max-height: 300px; }
        }
    </style>
    <meta name="google-site-verification" content="EwrEwqtdeWIpDL2mNx_vP4KwCY65BoUhfULPupWHIos" />
</head>
<body class="min-h-screen flex flex-col">

    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center text-white font-extrabold text-xl shadow-lg shadow-primary-500/30">H</div>
                <span class="text-xl font-bold tracking-tight text-slate-900">Hitoolo</span>
            </div>
            
            <div class="flex items-center gap-3">
                <select id="currencySelect" class="bg-slate-50 border border-slate-300 text-sm font-semibold text-slate-700 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:outline-none transition-all cursor-pointer">
                    <option value="USD">USD ($)</option>
                    <option value="INR">INR (₹)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="GBP">GBP (£)</option>
                </select>
                
                <div class="relative group">
                    <button class="flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white text-sm font-semibold px-4 py-2 rounded-lg transition-colors shadow-sm">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                        Export
                    </button>
                    <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-slate-100 hidden group-hover:block z-50">
                        <button onclick="exportCSV()" class="block w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 first:rounded-t-lg">Download CSV Data</button>
                        <button onclick="window.print()" class="block w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 last:rounded-b-lg">Print Report / PDF</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-1 max-w-7xl mx-auto w-full p-4 sm:p-6 lg:p-8">
        
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <div class="lg:col-span-5 space-y-6">
                
                <div class="bg-white rounded-2xl p-6 card-shadow">
                    <h2 class="text-sm font-bold uppercase tracking-wider text-slate-400 mb-4">Quick Start: Select Niche</h2>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="applyPreset('finance')" class="px-3 py-2 text-xs font-semibold rounded-lg bg-slate-50 text-slate-600 border border-slate-200 hover:bg-primary-50 hover:text-primary-700 hover:border-primary-200 transition-all">Finance/Biz</button>
                        <button onclick="applyPreset('tech')" class="px-3 py-2 text-xs font-semibold rounded-lg bg-slate-50 text-slate-600 border border-slate-200 hover:bg-primary-50 hover:text-primary-700 hover:border-primary-200 transition-all">Tech</button>
                        <button onclick="applyPreset('lifestyle')" class="px-3 py-2 text-xs font-semibold rounded-lg bg-slate-50 text-slate-600 border border-slate-200 hover:bg-primary-50 hover:text-primary-700 hover:border-primary-200 transition-all">Vlog/Life</button>
                        <button onclick="applyPreset('gaming')" class="px-3 py-2 text-xs font-semibold rounded-lg bg-slate-50 text-slate-600 border border-slate-200 hover:bg-primary-50 hover:text-primary-700 hover:border-primary-200 transition-all">Gaming</button>
                        <button onclick="applyPreset('edu')" class="px-3 py-2 text-xs font-semibold rounded-lg bg-slate-50 text-slate-600 border border-slate-200 hover:bg-primary-50 hover:text-primary-700 hover:border-primary-200 transition-all">Education</button>
                        <button onclick="applyPreset('ent')" class="px-3 py-2 text-xs font-semibold rounded-lg bg-slate-50 text-slate-600 border border-slate-200 hover:bg-primary-50 hover:text-primary-700 hover:border-primary-200 transition-all">Entertainment</button>
                    </div>
                </div>

                <div class="bg-white rounded-2xl p-6 card-shadow space-y-8">
                    <div class="flex items-center justify-between mb-2">
                        <h2 class="text-lg font-bold text-slate-900">Parameters</h2>
                        <button onclick="resetDefaults()" class="text-xs font-medium text-primary-600 hover:text-primary-800">Reset to Default</button>
                    </div>

                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <label class="text-sm font-semibold text-slate-700">Monthly Views</label>
                            <div class="relative">
                                <input type="number" id="numViews" value="1000000" class="w-32 text-right text-sm font-bold text-slate-900 bg-slate-50 border border-slate-200 rounded px-2 py-1 focus:ring-2 focus:ring-primary-500 outline-none">
                            </div>
                        </div>
                        <input type="range" id="rangeViews" min="1000" max="10000000" step="1000" value="1000000">
                        <div class="flex justify-between text-[10px] text-slate-400 font-bold tracking-wider">
                            <span>1K</span>
                            <span>10M</span>
                        </div>
                    </div>

                    <hr class="border-slate-100">

                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <label class="text-sm font-semibold text-slate-700">Monthly Growth Rate (%)</label>
                            <input type="number" id="numGrowth" value="5" class="w-20 text-right text-sm font-bold text-slate-900 bg-slate-50 border border-slate-200 rounded px-2 py-1 focus:ring-2 focus:ring-primary-500 outline-none">
                        </div>
                        <input type="range" id="rangeGrowth" min="-10" max="50" step="1" value="5">
                        <p class="text-xs text-slate-500">Compound growth applied monthly.</p>
                    </div>

                    <hr class="border-slate-100">

                    <div class="grid grid-cols-2 gap-6">
                        <div class="space-y-3">
                            <label class="text-xs font-bold uppercase text-slate-500">Long Form RPM ($)</label>
                            <input type="number" id="numLongRpm" value="4.50" step="0.1" class="w-full text-sm font-bold text-slate-900 bg-slate-50 border border-slate-200 rounded px-3 py-2 focus:ring-2 focus:ring-primary-500 outline-none">
                            <input type="range" id="rangeLongRpm" min="0.1" max="50" step="0.1" value="4.50">
                        </div>
                        <div class="space-y-3">
                            <label class="text-xs font-bold uppercase text-slate-500">Shorts RPM ($)</label>
                            <input type="number" id="numShortRpm" value="0.06" step="0.01" class="w-full text-sm font-bold text-slate-900 bg-slate-50 border border-slate-200 rounded px-3 py-2 focus:ring-2 focus:ring-primary-500 outline-none">
                            <input type="range" id="rangeShortRpm" min="0.01" max="2.00" step="0.01" value="0.06">
                        </div>
                    </div>

                    <hr class="border-slate-100">

                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <label class="text-sm font-semibold text-slate-700">Shorts vs Long Form</label>
                            <span class="text-sm font-bold text-primary-600" id="mixLabel">25% Shorts</span>
                        </div>
                        <input type="range" id="rangeMix" min="0" max="100" step="5" value="25">
                        <div class="flex justify-between text-[10px] text-slate-400">
                            <span>All Long Form</span>
                            <span>All Shorts</span>
                        </div>
                    </div>

                    <div class="bg-primary-50 rounded-xl p-4 flex items-center justify-between border border-primary-100">
                        <div>
                            <span class="text-sm font-bold text-primary-900 block">Q4 Seasonality Boost</span>
                            <span class="text-xs text-primary-600">Simulate higher earnings in Nov/Dec</span>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="checkSeasonality" class="sr-only peer">
                            <div class="w-11 h-6 bg-slate-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"></div>
                        </label>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-7 flex flex-col gap-6 lg:h-screen lg:sticky lg:top-6 lg:overflow-y-auto lg:pb-20 no-scrollbar" id="printableArea">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white p-6 rounded-2xl card-shadow border-l-4 border-l-primary-500 relative overflow-hidden">
                        <div class="absolute right-0 top-0 p-4 opacity-5">
                            <svg class="w-24 h-24" fill="currentColor" viewBox="0 0 20 20"><path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"></path><path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"></path></svg>
                        </div>
                        <p class="text-sm font-bold text-slate-500 uppercase tracking-wide">Projected Monthly</p>
                        <h3 class="text-4xl font-extrabold text-slate-900 mt-2 tracking-tight" id="dispMonthly">$0</h3>
                        <div class="mt-3 flex items-center gap-2">
                            <span class="bg-green-100 text-green-700 text-xs font-bold px-2 py-1 rounded-md">Current Run Rate</span>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl card-shadow border-l-4 border-l-indigo-500 relative overflow-hidden">
                         <div class="absolute right-0 top-0 p-4 opacity-5">
                            <svg class="w-24 h-24" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 15.293 6.293A1 1 0 0117 6.707V10h-2V7z" clip-rule="evenodd"></path></svg>
                        </div>
                        <p class="text-sm font-bold text-slate-500 uppercase tracking-wide">Next 12 Months Total</p>
                        <h3 class="text-4xl font-extrabold gradient-text mt-2 tracking-tight" id="dispYearly">$0</h3>
                        <div class="mt-3 text-xs text-slate-500">
                            Includes compound growth & seasonality
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 bg-white p-6 rounded-2xl card-shadow flex flex-col min-h-[350px]">
                        <h4 class="text-base font-bold text-slate-900 mb-4">Revenue Trajectory</h4>
                        <div class="flex-1 w-full relative">
                            <canvas id="mainChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="lg:col-span-1 bg-white p-6 rounded-2xl card-shadow flex flex-col">
                        <h4 class="text-base font-bold text-slate-900 mb-4">Revenue Split</h4>
                        <div class="relative h-40 w-full mb-6">
                            <canvas id="donutChart"></canvas>
                        </div>
                        <div class="space-y-4 mt-auto">
                            <div class="flex justify-between items-center border-b border-slate-100 pb-2">
                                <div class="flex items-center gap-2">
                                    <span class="w-3 h-3 rounded-full bg-primary-500"></span>
                                    <span class="text-xs font-semibold text-slate-600">Long Form</span>
                                </div>
                                <span class="text-sm font-bold text-slate-900" id="dispLongSplit">$0</span>
                            </div>
                            <div class="flex justify-between items-center border-b border-slate-100 pb-2">
                                <div class="flex items-center gap-2">
                                    <span class="w-3 h-3 rounded-full bg-indigo-400"></span>
                                    <span class="text-xs font-semibold text-slate-600">Shorts</span>
                                </div>
                                <span class="text-sm font-bold text-slate-900" id="dispShortSplit">$0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-900 text-white p-6 rounded-2xl shadow-xl flex items-start gap-4">
                    <div class="bg-white/10 p-3 rounded-full shrink-0">
                        <svg class="w-6 h-6 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </div>
                    <div>
                        <h4 class="font-bold text-white text-sm uppercase tracking-wide mb-1">Hitoolo Analysis</h4>
                        <p id="insightText" class="text-sm text-slate-300 leading-relaxed">Calculating...</p>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <script>
        // --- CONSTANTS & CONFIG ---
        const CURRENCY = {
            USD: { symbol: '$', rate: 1 },
            INR: { symbol: '₹', rate: 83.5 },
            EUR: { symbol: '€', rate: 0.92 },
            GBP: { symbol: '£', rate: 0.78 }
        };

        const NICHES = {
            finance: { long: 15.00, short: 0.15, mix: 10 },
            tech: { long: 8.50, short: 0.10, mix: 15 },
            lifestyle: { long: 3.50, short: 0.05, mix: 40 },
            gaming: { long: 2.50, short: 0.03, mix: 60 },
            edu: { long: 6.00, short: 0.08, mix: 20 },
            ent: { long: 2.00, short: 0.02, mix: 75 }
        };

        // Global State
        let state = {
            views: 1000000,
            growth: 5,
            longRpm: 4.50,
            shortRpm: 0.06,
            mix: 25,
            seasonality: false,
            currCode: 'USD'
        };

        let mainChart = null;
        let donutChart = null;

        // --- CORE LOGIC ---
        function calculate() {
            const cur = CURRENCY[state.currCode];
            const monetizedViews = state.views * 0.8; // 80% monetization assumption
            
            let monthlyData = [];
            let totalYearly = 0;
            let currentViews = monetizedViews;

            // Seasonality Map (Standard Jan-Dec, relative to current month start)
            const seasonalityMap = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1.2, 1.4, 1.6];
            const startMonth = new Date().getMonth();

            for(let i=0; i<12; i++) {
                if (i > 0) currentViews *= (1 + state.growth/100);

                const shortViews = currentViews * (state.mix / 100);
                const longViews = currentViews - shortViews;

                let booster = 1;
                if(state.seasonality) {
                    booster = seasonalityMap[(startMonth + i) % 12];
                }

                // RPM is per 1000 views
   const revLong = (longViews / 1000) * (state.longRpm * cur.rate) * booster;
                const revShort = (shortViews / 1000) * (state.shortRpm * cur.rate) * booster;
                const total = revLong + revShort;

                totalYearly += total;
                monthlyData.push({ 
                    label: `Month ${i+1}`, 
                    long: revLong, 
                    short: revShort, 
                    total: total,
                    views: currentViews
                });
            }

            return {
                current: monthlyData[0],
                yearly: totalYearly,
                history: monthlyData
            };
        }

        // --- UI UPDATES ---
        function updateUI() {
            const data = calculate();
            const sym = CURRENCY[state.currCode].symbol;

            // Update Text Displays
            document.getElementById('dispMonthly').innerText = formatMoney(data.current.total, sym);
            document.getElementById('dispYearly').innerText = formatMoney(data.yearly, sym);
            
            document.getElementById('dispLongSplit').innerText = formatMoney(data.current.long, sym);
            document.getElementById('dispShortSplit').innerText = formatMoney(data.current.short, sym);
            document.getElementById('mixLabel').innerText = `${state.mix}% Shorts`;

            // Update Insight
            generateInsight(data.current.total, data.yearly, sym);

            // Update Charts
            updateCharts(data);
        }

        function generateInsight(monthly, yearly, sym) {
            const el = document.getElementById('insightText');
            let msg = "";
            
            if(monthly < 500) {
                msg = `Early days! To reach <strong>${sym}1,000/mo</strong>, you need to double your traffic or focus on higher RPM niches like Finance/Tech. Consistency is key.`;
            } else if (monthly < 3000) {
                msg = `You are building momentum. With <strong>${state.growth}% monthly growth</strong>, your annual projection is <strong>${formatMoney(yearly, sym)}</strong>. Consider adding affiliate links to boost income.`;
            } else if (monthly < 10000) {
                msg = `This is a full-time income trajectory. You're generating roughly <strong>${formatMoney(monthly/30, sym)} per day</strong>. Optimization focus: Increase Long Form retention to boost RPM.`;
            } else {
                msg = `Top Tier Performance. Your projected annual run rate is <strong>${formatMoney(yearly, sym)}</strong>. At this level, brand deals should add another 30-50% on top of these AdSense figures.`;
            }
            el.innerHTML = msg;
        }

        function formatMoney(val, sym) {
            return sym + val.toLocaleString(undefined, { maximumFractionDigits: 0 });
        }

        // --- CHARTS ---
        function initCharts() {
            Chart.defaults.font.family = 'Plus Jakarta Sans';
            Chart.defaults.color = '#64748b';

            // 1. Line Chart
            const ctx1 = document.getElementById('mainChart').getContext('2d');
            const grad1 = ctx1.createLinearGradient(0,0,0,300);
            grad1.addColorStop(0, 'rgba(59, 130, 246, 0.2)');
            grad1.addColorStop(1, 'rgba(59, 130, 246, 0)');

            mainChart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Revenue',
                        data: [],
                        borderColor: '#2563eb',
                        backgroundColor: grad1,
                        borderWidth: 3,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false }, tooltip: { mode: 'index', intersect: false } },
                    scales: {
                        x: { grid: { display: false } },
                        y: { grid: { borderDash: [5, 5], color: '#f1f5f9' }, beginAtZero: true }
                    }
                }
            });

            // 2. Donut Chart
            const ctx2 = document.getElementById('donutChart').getContext('2d');
            donutChart = new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['Long Form', 'Shorts'],
                    datasets: [{
                        data: [0, 0],
                        backgroundColor: ['#3b82f6', '#818cf8'],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '75%',
                    plugins: { legend: { display: false } }
                }
            });
        }

        function updateCharts(data) {
            mainChart.data.labels = data.history.map(d => d.label);
            mainChart.data.datasets[0].data = data.history.map(d => d.total);
            mainChart.update();

            donutChart.data.datasets[0].data = [data.current.long, data.current.short];
            donutChart.update();
        }

        // --- INPUT HANDLING ---
        function syncInput(id, key, isNumInput) {
            const numEl = document.getElementById('num' + id);
            const rangeEl = document.getElementById('range' + id);
            
            let val = parseFloat(isNumInput ? numEl.value : rangeEl.value);
            
            if(isNumInput) {
                if(val < parseFloat(rangeEl.min)) val = parseFloat(rangeEl.min);
                if(val > parseFloat(rangeEl.max)) val = parseFloat(rangeEl.max);
            }

            state[key] = val;
            
            if(isNumInput) rangeEl.value = val;
            else numEl.value = val;

            updateUI();
        }

        function setupListeners() {
            const pairs = [
                { id: 'Views', key: 'views' },
                { id: 'Growth', key: 'growth' },
                { id: 'LongRpm', key: 'longRpm' },
                { id: 'ShortRpm', key: 'shortRpm' }
            ];

            pairs.forEach(p => {
                document.getElementById('num' + p.id).addEventListener('input', () => syncInput(p.id, p.key, true));
                document.getElementById('range' + p.id).addEventListener('input', () => syncInput(p.id, p.key, false));
            });

            document.getElementById('rangeMix').addEventListener('input', (e) => {
                state.mix = parseInt(e.target.value);
                updateUI();
            });

            document.getElementById('currencySelect').addEventListener('change', (e) => {
                state.currCode = e.target.value;
                updateUI();
            });

            document.getElementById('checkSeasonality').addEventListener('change', (e) => {
                state.seasonality = e.target.checked;
                updateUI();
            });
        }

        // --- UTILS ---
        function applyPreset(nicheKey) {
            const preset = NICHES[nicheKey];
            state.longRpm = preset.long;
            state.shortRpm = preset.short;
            state.mix = preset.mix;
            document.getElementById('numLongRpm').value = preset.long;
            document.getElementById('rangeLongRpm').value = preset.long;
            document.getElementById('numShortRpm').value = preset.short;
            document.getElementById('rangeShortRpm').value = preset.short;
            document.getElementById('rangeMix').value = preset.mix;
            updateUI();
        }

        function resetDefaults() {
            state.views = 1000000;
            state.growth = 5;
            state.longRpm = 4.50;
            state.shortRpm = 0.06;
            state.mix = 25;
            state.seasonality = false;
            
            document.getElementById('numViews').value = 1000000; document.getElementById('rangeViews').value = 1000000;
            document.getElementById('numGrowth').value = 5; document.getElementById('rangeGrowth').value = 5;
            document.getElementById('numLongRpm').value = 4.5; document.getElementById('rangeLongRpm').value = 4.5;
            document.getElementById('numShortRpm').value = 0.06; document.getElementById('rangeShortRpm').value = 0.06;
            document.getElementById('rangeMix').value = 25;
            document.getElementById('checkSeasonality').checked = false;
            
            updateUI();
        }

        // --- EXPORT FUNCTIONS ---
        function exportCSV() {
            const data = calculate();
            const cur = CURRENCY[state.currCode].symbol;
            
            // Generate detailed CSV content
            let csv = `Hitoolo Report - Generated on ${new Date().toLocaleDateString()}\n`;
            csv += `Settings: Growth ${state.growth}%, Mix ${state.mix}% Shorts, Seasonality: ${state.seasonality ? 'On' : 'Off'}\n\n`;
            csv += `Month,Views,Long Form Rev (${cur}),Shorts Rev (${cur}),Total Rev (${cur})\n`;
            
            data.history.forEach(row => {
                csv += `${row.label},${Math.round(row.views)},${row.long.toFixed(2)},${row.short.toFixed(2)},${row.total.toFixed(2)}\n`;
            });
            
            csv += `\nTotal Annual Revenue,${data.yearly.toFixed(2)}`;

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.hidden = true;
            a.href = url;
            a.download = 'Hitoolo_Financial_Report.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        // --- INIT ---
        window.addEventListener('DOMContentLoaded', () => {
            initCharts();
            setupListeners();
            updateUI();
        });

    </script>
</body>
</html>
